#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")

# è·³è¿‡ semantic-release ç”Ÿæˆçš„ commit
# è§„åˆ™ï¼šå¦‚æœ message ä»¥ "chore(release):" å¼€å¤´ï¼Œæˆ–è€…åŒ…å« "[skip ci]"ï¼Œç›´æ¥é€šè¿‡
case "$commit_msg" in
  chore\(release\):* | *"[skip ci]"* )
    echo "ğŸŸ¢ Skip commitlint for release commit: $commit_msg"
    exit 0
    ;;
esac

npx --no-install commitlint --edit $1